<% layout('layouts/boilerplate') %>
<div class="row">
	<div class="col-6">
		<div class="card">
		  <img src="<%= campground.image %>" class="card-img-top" alt="" style="max-height: 500px; max-width: 100%; object-fit: scale-down;">
		  <div class="card-body">
		    <h1 class="card-title"><span style="font-weight: bold;"><%= campground.title %></span></h1>
		    <p class="card-text text-muted"><%= campground.location %></p>
		  </div>
		  <ul class="list-group list-group-flush">
		    <li class="list-group-item"><%= campground.description %></li>
		    <li class="list-group-item">$<%= campground.price %>/night</li>
		  </ul>
		  <div class="card-body d-flex d-row" style="justify-content: flex-start;">
		    <a href="/campgrounds/<%= campground._id %>/edit" class="card-link btn btn-primary">Edit</a>
			<a href="/campgrounds" class="card-link btn btn-info">Back to All</a>
			<form class="d-inline" action="/campgrounds/<%=campground._id%>?_method=DELETE" method=POST>
				<button class="btn btn-danger" style="margin-left: 16px;">Delete</button>
			</form>
		  </div>
		</div>	
	</div>
	<div class="col-6">
		<h2>Leave a Review</h2>
		<form action="/campgrounds/<%=campground._id%>/reviews?_method=PUT" method=POST novalidate class="needs-validation">
			<!-- <label class="form-label" for="rating"></label> -->
			<div class="mt-5">
				<label class="form-label" for="rating">Rate Me:</label>
				<input type="range" id="rating" min="1" value="5" max="5" name="reviews[rating]" oninput="this.nextElementSibling.value = this.value">
				<output>5</output>
			</div>
			<div style="margin-top: -25px;">
				<label class="form-label" for="text"></label>
				<textarea class="form-control" id="text" name="reviews[text]" required></textarea>
				<div class="valid-feedback">
					Great!
				</div>
				<button class="btn btn-success mt-2 mb-5">Submit</button>
			</div>
		</form>
		<% for(let review of campground.reviews) {%>
		<div class="card mb-2">
			<div class="card-text">
				<h5>Rating: <%= review.rating %></h5>
				<p>Review: <%= review.text %></p>
			</div>
			<form class="d-inline" action="/campgrounds/<%=campground._id%>/reviews/<%=review._id%>?_method=DELETE" method=POST>
				<button class="btn btn-danger" style="margin-left: 16px;">Delete</button>
			</form>
		</div>
		<% } %>
	</div>
</div>





<!-- OLD STYLE -->
<!-- 
	<div class="card text-center col-6 offset-3" style="border: none;">
		<h1><%= campground.title %></h1>
		<h2><%= campground.location %></h2>
		<div class="mb-3">
			<img src="<%= campground.image %>" class="mb-3" style="max-height: 500px; max-width: 100%" alt="">
			<p class="mb-3" style="max-width: 100%"><%= campground.description %></p>
			<a class="mb-3" href="/campgrounds/<%= campground._id %>/edit">Edit Campground</a>
			<form class="mb-3" action="/campgrounds/<%=campground._id%>?_method=DELETE" method=POST>
				<button>Delete</button>
			</form>
			<a class="mb-3" href="/campgrounds">Back to All</a>
		</div>
	</div> -->